# DroneFollower
Project for visual control ardrone and follow object

### Описание AR_cv

Пакет состоит из двух систем: управления камерами `SimpleCV` и алгоритма определения окружности `findCircles`.
Для соборки пакета с информацией для дебага, раскомментируете следующие строчки:

```cmake

7.	# Debug option
8.	# ADD_DEFINITIONS(-DDEBUG)
9.

```
затем, соберите пакет.

Для старта необходимо изучить файл `config/setup.yaml`. Тут есть поле `topic_name`, в нем необходимо указать имя топика камеры, в противном случае будет использоваться локальная камера под номером `camera_number` с частотой `camera_frequency`. Важно, что если поле `topic_name = ""`, тогда подписчик не используется и создается поток, который читает картинки с локальной камеры.
Для настройки полей `min_color, max_color` используйте скрипт `scripts/HSV_Detector.py`.
```bash
	rosrun ar_cv HSV_Detector.py
```
Скрипт пока работает с **локальной камерой компьютера** под номером `camera_number` (чаще он равен **нулю**). После запуска появится окошко с картинкой и ползунками, в левом верхнем углу располагается окружность, которая отображает средний цвет. Переведите объект, чей цветовой диапазон при данной яркости освещения нужно определить и нажмите клавишу `r`, после этого двигайте объект внутри окружности, не выводя объект за ее пределы. После проделанной операции нажмите `s`, появится черно-белое изображение. Далее уже вручную донастройте минимальный и максимальный цвет ползунками и занесите в поля `min_color, max_color`.

После настройки можно запускать программу:
```bash
	roslaunch ar_cv start.launch
```

Нода должна начать слать сообщения в топик `/ar_cv/circle_info`.